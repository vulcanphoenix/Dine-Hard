[gd_scene load_steps=32 format=4 uid="uid://bbpoj0lm0sg5p"]

[ext_resource type="Script" uid="uid://cc4lsf3xrr25m" path="res://Sprites/world/world.gd" id="1_8nwcd"]
[ext_resource type="Texture2D" uid="uid://dg2rkiamm2e3w" path="res://Sprites/world/Tables/New Piskel-1.png.png" id="1_4717r"]
[ext_resource type="Texture2D" uid="uid://bih7lhv6krtd5" path="res://Sprites/world/Tiles/New Piskel (1) (6).png" id="1_h5o24"]
[ext_resource type="Texture2D" uid="uid://bxnowhrju4y8u" path="res://Sprites/world/Tables/New Piskel-2.png.png" id="2_h5o24"]
[ext_resource type="Script" uid="uid://cpeg3ajgpws2l" path="res://Sprites/world/restaurant_table.gd" id="2_lpn8e"]
[ext_resource type="Script" uid="uid://d7hvbkhalvqx" path="res://Sprites/world/order_reciever.gd" id="3_6pm3g"]
[ext_resource type="Texture2D" uid="uid://cgjwja0uhb8mt" path="res://Sprites/world/Tables/New Piskel-3.png.png" id="3_mmdvd"]
[ext_resource type="Texture2D" uid="uid://c46y5tk666iy8" path="res://New Piskel-1.png (1).png" id="3_q4n3e"]
[ext_resource type="PackedScene" uid="uid://b2w8lm5xe01w" path="res://Sprites/player/player.tscn" id="5_tat8m"]
[ext_resource type="Script" uid="uid://blkt0xrfjgqyp" path="res://Sprites/world/customer_spawn.gd" id="6_is8iy"]
[ext_resource type="PackedScene" uid="uid://bamjgdqvuv67b" path="res://Sprites/player/Customer1M.tscn" id="7_3sxfg"]
[ext_resource type="Script" uid="uid://ci5am3p4nsnvp" path="res://Sprites/world/kitchen_station.gd" id="12_ktbyw"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_mmdvd"]
texture = ExtResource("1_h5o24")
texture_region_size = Vector2i(5, 5)
5:5/size_in_atlas = Vector2i(41, 41)
5:5/0 = 0
56:5/size_in_atlas = Vector2i(41, 41)
56:5/0 = 0
107:5/size_in_atlas = Vector2i(42, 41)
107:5/0 = 0
158:5/size_in_atlas = Vector2i(42, 41)
158:5/0 = 0
210:5/size_in_atlas = Vector2i(41, 41)
210:5/0 = 0
261:5/size_in_atlas = Vector2i(41, 41)
261:5/0 = 0
312:5/size_in_atlas = Vector2i(41, 41)
312:5/0 = 0

[sub_resource type="TileSet" id="TileSet_mmdvd"]
tile_size = Vector2i(19, 19)
sources/3 = SubResource("TileSetAtlasSource_mmdvd")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_fn3g3"]
texture = ExtResource("1_h5o24")
texture_region_size = Vector2i(5, 5)
312:5/size_in_atlas = Vector2i(41, 41)
312:5/0 = 0
261:5/size_in_atlas = Vector2i(41, 41)
261:5/0 = 0
210:5/size_in_atlas = Vector2i(41, 41)
210:5/0 = 0

[sub_resource type="TileSet" id="TileSet_sc4t8"]
tile_size = Vector2i(19, 19)
sources/0 = SubResource("TileSetAtlasSource_fn3g3")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ai45w"]
texture = ExtResource("1_h5o24")
texture_region_size = Vector2i(5, 5)
210:5/size_in_atlas = Vector2i(41, 41)
210:5/0 = 0
261:5/size_in_atlas = Vector2i(41, 41)
261:5/0 = 0
159:5/size_in_atlas = Vector2i(41, 41)
159:5/0 = 0

[sub_resource type="TileSet" id="TileSet_4papg"]
tile_size = Vector2i(19, 19)
sources/0 = SubResource("TileSetAtlasSource_ai45w")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_fyhu2"]
texture = ExtResource("1_h5o24")
texture_region_size = Vector2i(5, 5)
261:5/size_in_atlas = Vector2i(41, 41)
261:5/0 = 0
210:5/size_in_atlas = Vector2i(41, 41)
210:5/0 = 0
56:5/size_in_atlas = Vector2i(41, 41)
56:5/0 = 0
108:5/size_in_atlas = Vector2i(40, 41)
108:5/0 = 0

[sub_resource type="TileSet" id="TileSet_ov2xu"]
tile_size = Vector2i(19, 19)
sources/0 = SubResource("TileSetAtlasSource_fyhu2")

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_6pm3g"]
radius = 65.0
height = 164.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ktbyw"]

[sub_resource type="SpriteFrames" id="SpriteFrames_fn3g3"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("1_4717r")
}],
"loop": true,
"name": &"clean_table",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_h5o24")
}],
"loop": true,
"name": &"dirty_table",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_mmdvd")
}],
"loop": true,
"name": &"set_table",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6pm3g"]
size = Vector2(268.5, 171)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lpn8e"]
size = Vector2(20, 752)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8nwcd"]
size = Vector2(980, 18)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_q4n3e"]
size = Vector2(15, 752.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mad0u"]
size = Vector2(985, 29)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_l57vb"]
size = Vector2(151, 116.5)

[sub_resource type="SegmentShape2D" id="SegmentShape2D_6pm3g"]
b = Vector2(0, 0)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_ktbyw"]
radius = 23.0065
height = 277.992

[node name="World" type="Node2D" groups=["customers"]]
script = ExtResource("1_8nwcd")

[node name="Tilemap_Holder" type="Node2D" parent="."]

[node name="Tile floor" type="TileMapLayer" parent="Tilemap_Holder"]
tile_map_data = PackedByteArray("AAAuACoAAwAFAAUAAAAjACoAAwAFAAUAAAAkACoAAwAFAAUAAAAaACoAAwAFAAUAAAAuACAAAwAFAAUAAAAkACAAAwAFAAUAAAAuABYAAwAFAAUAAAAkABYAAwAFAAUAAAAkAAwAAwAFAAUAAAAuAAwAAwAFAAUAAAA=")
tile_set = SubResource("TileSet_mmdvd")

[node name="Carpet" type="TileMapLayer" parent="Tilemap_Holder"]
tile_map_data = PackedByteArray("AAAaAA8AAAA4AQUAAAAQAA8AAAA4AQUAAAAGAA8AAAA4AQUAAAAFAA8AAAA4AQUAAAAaABkAAAA4AQUAAAAaACMAAAA4AQUAAAAQABkAAAA4AQUAAAAGABkAAAA4AQUAAAAFABkAAAA4AQUAAAAFACMAAAA4AQUAAAAQACMAAAA4AQUAAAAMACMAAAA4AQUAAAAFACoAAAA4AQUAAAAQACoAAAA4AQUAAAANACoAAAA4AQUAAAAuAAUAAAAFAQUAAAAaACoAAAA4AQUAAAA=")
tile_set = SubResource("TileSet_sc4t8")

[node name="Walls" type="TileMapLayer" parent="Tilemap_Holder"]
tile_map_data = PackedByteArray("AAAuAAUAAAAFAQUAAAAlAAUAAADSAAUAAAAbAAUAAACfAAUAAAARAAUAAACfAAUAAAAHAAUAAACfAAUAAAAFAAUAAACfAAUAAAA=")
tile_set = SubResource("TileSet_4papg")

[node name="Interactables" type="TileMapLayer" parent="Tilemap_Holder"]
tile_map_data = PackedByteArray("AAAuAAUAAAAFAQUAAAAlAAUAAADSAAUAAAAuACoAAABsAAUAAAAkACoAAAA4AAUAAAA=")
tile_set = SubResource("TileSet_ov2xu")

[node name="Order_reciever" type="StaticBody2D" parent="."]
script = ExtResource("3_6pm3g")

[node name="Sprite2D" type="Sprite2D" parent="Order_reciever"]
position = Vector2(909.75, 110)
scale = Vector2(2.70313, 2.6875)
texture = ExtResource("3_q4n3e")

[node name="InteractionArea" type="Area2D" parent="Order_reciever"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Order_reciever/InteractionArea"]
visible = false
position = Vector2(910, 98)
shape = SubResource("CapsuleShape2D_6pm3g")

[node name="InteractionPrompt" type="Label" parent="Order_reciever"]
offset_left = 841.0
offset_top = 53.0
offset_right = 982.0
offset_bottom = 76.0
text = "Press E to Interact"
metadata/_edit_use_anchors_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Order_reciever"]
shape = SubResource("RectangleShape2D_ktbyw")

[node name="RestaurantTable" type="StaticBody2D" parent="."]
position = Vector2(109, 213)
scale = Vector2(1.75, 1.75)
collision_mask = 2
script = ExtResource("2_lpn8e")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="RestaurantTable"]
position = Vector2(5.71429, 53.1429)
sprite_frames = SubResource("SpriteFrames_fn3g3")
animation = &"clean_table"

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="RestaurantTable"]
visible = false
polygon = PackedVector2Array(66.8571, 80.5714, -56.5714, 80.5714, -56, 14.8571, -55.4286, 1.14285, -50.2857, 1.71428, -49.7143, 15.4286, 60, 14.8571, 60.5714, 1.71428, 66.2857, 1.71428, 66.2857, 14.8571)

[node name="InteractionArea" type="Area2D" parent="RestaurantTable"]
visible = false
position = Vector2(-64, -149.714)
scale = Vector2(0.571429, 0.571429)

[node name="CollisionShape2D" type="CollisionShape2D" parent="RestaurantTable/InteractionArea"]
light_mask = 0
position = Vector2(139.75, 368.999)
shape = SubResource("RectangleShape2D_6pm3g")

[node name="InteractionPrompt" type="Label" parent="RestaurantTable"]
offset_left = -39.4286
offset_top = 0.571434
offset_right = 55.5714
offset_bottom = 17.5714
theme_override_font_sizes/font_size = 10
text = "Press E to Interact"

[node name="CustomerSeatPosition" type="Marker2D" parent="RestaurantTable"]
position = Vector2(43.4286, 45.1429)

[node name="RestaurantTable2" type="StaticBody2D" parent="."]
position = Vector2(103, 197)
scale = Vector2(1.75, 1.75)
collision_mask = 2
script = ExtResource("2_lpn8e")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="RestaurantTable2"]
position = Vector2(9.14286, 188)
sprite_frames = SubResource("SpriteFrames_fn3g3")
animation = &"clean_table"

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="RestaurantTable2"]
visible = false
position = Vector2(2.85714, 134.857)
polygon = PackedVector2Array(66.8571, 80.5714, -56.5714, 80.5714, -56, 14.8571, -55.4286, 1.14285, -50.2857, 1.71428, -49.7143, 15.4286, 60, 14.8571, 60.5714, 1.71428, 66.2857, 1.71428, 66.2857, 14.8571)

[node name="InteractionArea" type="Area2D" parent="RestaurantTable2"]
position = Vector2(-64, -149.714)
scale = Vector2(0.571429, 0.571429)

[node name="CollisionShape2D" type="CollisionShape2D" parent="RestaurantTable2/InteractionArea"]
visible = false
light_mask = 0
position = Vector2(146, 602.999)
shape = SubResource("RectangleShape2D_6pm3g")

[node name="InteractionPrompt" type="Label" parent="RestaurantTable2"]
offset_left = -36.0
offset_top = 131.429
offset_right = 59.0
offset_bottom = 148.429
theme_override_font_sizes/font_size = 10
text = "Press E to Interact"

[node name="CustomerSeatPosition" type="Marker2D" parent="RestaurantTable2"]
position = Vector2(46.8571, 180)

[node name="RestaurantTable3" type="StaticBody2D" parent="."]
position = Vector2(405, 219)
scale = Vector2(1.75, 1.75)
collision_mask = 2
script = ExtResource("2_lpn8e")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="RestaurantTable3"]
position = Vector2(5.71428, 53.7143)
sprite_frames = SubResource("SpriteFrames_fn3g3")
animation = &"clean_table"

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="RestaurantTable3"]
visible = false
polygon = PackedVector2Array(66.8571, 80.5714, -56.5714, 80.5714, -56, 14.8571, -55.4286, 1.14285, -50.2857, 1.71428, -49.7143, 15.4286, 60, 14.8571, 60.5714, 1.71428, 66.2857, 1.71428, 66.2857, 14.8571)

[node name="InteractionArea" type="Area2D" parent="RestaurantTable3"]
position = Vector2(-64, -149.714)
scale = Vector2(0.571429, 0.571429)

[node name="CollisionShape2D" type="CollisionShape2D" parent="RestaurantTable3/InteractionArea"]
visible = false
light_mask = 0
position = Vector2(142, 357.999)
shape = SubResource("RectangleShape2D_6pm3g")

[node name="InteractionPrompt" type="Label" parent="RestaurantTable3"]
offset_left = -42.2857
offset_top = -1.14285
offset_right = 52.7143
offset_bottom = 15.8572
theme_override_font_sizes/font_size = 10
text = "Press E to Interact"

[node name="CustomerSeatPosition" type="Marker2D" parent="RestaurantTable3"]
position = Vector2(43.4286, 45.7143)

[node name="RestaurantTable4" type="StaticBody2D" parent="."]
position = Vector2(408, 438)
scale = Vector2(1.75, 1.75)
collision_mask = 2
script = ExtResource("2_lpn8e")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="RestaurantTable4"]
position = Vector2(5.71428, 46.8571)
sprite_frames = SubResource("SpriteFrames_fn3g3")
animation = &"clean_table"

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="RestaurantTable4"]
visible = false
position = Vector2(0.571426, -5.14287)
polygon = PackedVector2Array(66.8571, 80.5714, -56.5714, 80.5714, -56, 14.8571, -55.4286, 1.14285, -50.2857, 1.71428, -49.7143, 15.4286, 60, 14.8571, 60.5714, 1.71428, 66.2857, 1.71428, 66.2857, 14.8571)

[node name="InteractionArea" type="Area2D" parent="RestaurantTable4"]
position = Vector2(-64, -149.714)
scale = Vector2(0.571429, 0.571429)

[node name="CollisionShape2D" type="CollisionShape2D" parent="RestaurantTable4/InteractionArea"]
visible = false
light_mask = 0
position = Vector2(145, 365.999)
shape = SubResource("RectangleShape2D_6pm3g")

[node name="InteractionPrompt" type="Label" parent="RestaurantTable4"]
offset_left = -42.2857
offset_top = -5.14286
offset_right = 52.7143
offset_bottom = 11.8571
theme_override_font_sizes/font_size = 10
text = "Press E to Interact"

[node name="CustomerSeatPosition" type="Marker2D" parent="RestaurantTable4"]
position = Vector2(43.4286, 38.8571)

[node name="Customer" parent="." instance=ExtResource("7_3sxfg")]
position = Vector2(941, 837)

[node name="player" parent="." instance=ExtResource("5_tat8m")]
position = Vector2(644, 833)

[node name="Customer Spawn" type="Node2D" parent="."]
script = ExtResource("6_is8iy")

[node name="spawn_point _1" type="Marker2D" parent="Customer Spawn"]
position = Vector2(942, 839)

[node name="Collision holder" type="Node2D" parent="."]
visible = false
position = Vector2(0, 1)

[node name="CounterTop" type="StaticBody2D" parent="Collision holder"]
visible = false

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Collision holder/CounterTop"]
visible = false
polygon = PackedVector2Array(687, 907, 687, 804, 594, 804, 595, 754, 708, 754, 721, 758, 727, 763, 732, 775, 737, 789, 739, 909)

[node name="walls" type="StaticBody2D" parent="Collision holder"]
visible = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="Collision holder/walls"]
position = Vector2(-7, 534)
shape = SubResource("RectangleShape2D_lpn8e")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Collision holder/walls"]
position = Vector2(493, 919)
shape = SubResource("RectangleShape2D_8nwcd")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Collision holder/walls"]
position = Vector2(991, 533)
shape = SubResource("RectangleShape2D_q4n3e")

[node name="North Wall Collision" type="StaticBody2D" parent="Collision holder"]
visible = false

[node name="North wall" type="CollisionShape2D" parent="Collision holder/North Wall Collision"]
position = Vector2(494.5, 143.5)
shape = SubResource("RectangleShape2D_mad0u")

[node name="Table1" type="StaticBody2D" parent="Collision holder"]
visible = false
collision_layer = 3
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="Collision holder/Table1"]
position = Vector2(384.5, 509.75)
shape = SubResource("RectangleShape2D_l57vb")

[node name="Table2" type="StaticBody2D" parent="Collision holder"]
visible = false
collision_layer = 3
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="Collision holder/Table2"]
position = Vector2(84, 515)
shape = SubResource("RectangleShape2D_l57vb")

[node name="Table3" type="StaticBody2D" parent="Collision holder"]
visible = false
collision_layer = 3
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="Collision holder/Table3"]
position = Vector2(86, 294)
shape = SubResource("RectangleShape2D_l57vb")

[node name="Table4" type="StaticBody2D" parent="Collision holder"]
visible = false
collision_layer = 3
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="Collision holder/Table4"]
position = Vector2(382, 302)
shape = SubResource("RectangleShape2D_l57vb")

[node name="DialogueUI" type="Control" parent="." groups=["dialogue_ui"]]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="DialogueBox" type="ColorRect" parent="DialogueUI"]
layout_mode = 0
offset_left = 150.0
offset_top = 823.0
offset_right = 826.0
offset_bottom = 912.0
color = Color(0, 0, 0, 0.368627)

[node name="NameLabel" type="Label" parent="DialogueUI/DialogueBox"]
layout_mode = 0
offset_left = 287.0
offset_top = 2.0
offset_right = 425.0
offset_bottom = 25.0
theme_override_colors/font_color = Color(1, 1, 1, 1)

[node name="DialogueText" type="Label" parent="DialogueUI/DialogueBox"]
layout_mode = 0
offset_left = 5.0
offset_top = 33.0
offset_right = 673.0
offset_bottom = 69.0
theme_override_colors/font_color = Color(1, 1, 1, 1)

[node name="ContinuePrompt" type="Label" parent="DialogueUI/DialogueBox"]
layout_mode = 0
offset_left = -1.0
offset_top = 65.0
offset_right = 95.0
offset_bottom = 88.0
theme_override_colors/font_color = Color(1, 1, 1, 1)
text = "
"

[node name="OrdersUI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="OrdersList" type="VBoxContainer" parent="OrdersUI"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="PlaceOrdersButton" type="Button" parent="OrdersUI"]
layout_mode = 0
offset_right = 8.0
offset_bottom = 8.0

[node name="CloseButton" type="Button" parent="OrdersUI"]
layout_mode = 0
offset_right = 8.0
offset_bottom = 8.0

[node name="KitchenStation" type="StaticBody2D" parent="."]
script = ExtResource("12_ktbyw")

[node name="Sprite2D" type="Sprite2D" parent="KitchenStation"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="KitchenStation"]
shape = SubResource("SegmentShape2D_6pm3g")

[node name="InteractionArea" type="Area2D" parent="KitchenStation"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="KitchenStation/InteractionArea"]
position = Vector2(742, 135)
rotation = -1.57412
shape = SubResource("CapsuleShape2D_ktbyw")

[node name="FoodSpawnPoint" type="Marker2D" parent="KitchenStation"]
